name: Check Personal Information
on:
    workflow_call:
        secrets:
            TELEMETRY_PAT:
                required: false

jobs:
    personal-info-check:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
              with:
                  fetch-depth: 0 # Need full history for better detection

            - name: Central personal info check with telemetry
              uses: AmsterdamUMC-test/org-security-workflows/personal-info-check@main
              with:
                  telemetry-pat: ${{ secrets.TELEMETRY_PAT }}
                  telemetry-repo: AmsterdamUMC-test/security-telemetry
